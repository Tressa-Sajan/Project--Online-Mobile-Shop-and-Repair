{% extends "base.html" %}
{% load static %}
{% block content %}
{% csrf_token %}
<link rel="stylesheet" href="{% static 'assets/css/checkout.css' %}">
<style>
    .container_p-2{
        background-image: url('{% static "assets/img/header/11.jpg" %}');  
        background-size: 100% 100%; 
        min-height: 100vh;
    }
    .image-container {
        display: none;
    }
        /* Apply your styling to the Razorpay button */
    .razorpay-payment-button {
        background-color: #3498db; /* Change this to your desired color */
        color: #ffffff; /* Change this to your desired text color */
        border: none;
        padding: 10px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 4px;
    }
</style>
<div class="container p-2">
    <div id="order-placed-section" style="display: none;"><br><br>
        <h2>Order Placed</h2>
        <p id="order-success-message"></p>
    </div>
    <br><br><h1>Checkout</h1>   
    <table class="table">
        <thead>
            <tr>
                <th>Product</th>
                <th>Quantity</th>
            </tr>
        </thead>
        <tbody>
            {% for item in cart_items %}
            <tr>
                <td>{{ item.product.product_name }}</td>
                <td>{{ item.quantity }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <p>Total Amount: &#8377<span id="total_item_amount">{{total_amount}}</span></p>
    <!-- <button id="rzp-button1">Pay with Razorpay</button><br><br> -->
    <form action="{% url 'order' %}?id={{user.id}}" method="POST">
        <script
            src="https://checkout.razorpay.com/v1/checkout.js"
            data-key="rzp_test_KE5hiRXWNUNLRk" 
            data-amount="29935" 
            data-currency="INR"
            data-order_id="{{ paymentId }}"
            data-buttontext="Pay with Razorpay"
            data-buttonclass="btn btn-sm btn-danger"
            data-name="Acme Corp"
            data-description="A Wild Sheep Chase is the third novel by Japanese author Haruki Murakami"
            data-image="https://example.com/your_logo.jpg"
            data-prefill.name="Gaurav Kumar"
            data-prefill.email="gaurav.kumar@example.com"
            data-theme.color="#07F284"
        ></script>
        <input type="hidden" custom="Hidden Element" name="hidden"/>
        </form>
</div><br><br>
<!-- <div id="checkout-data" data-email="{{ email }}" data-username="{{ username }}">
</div> -->
<!-- <script>
    var handlePaymentUrl = "{% url 'handle-payment' %}";
</script>  -->
<!-- <script src="https://checkout.razorpay.com/v1/css/checkout.js"></script>
<script src="{% static 'assets/js/checkout.js' %}"></script> -->
{% endblock %}





<!-- <div class="container">
    <div id="order-placed-section" style="display: none;">
        <h2>Order Placed</h2>
        <p id="order-success-message"></p>
    </div>
    <h1>Checkout</h1>
    <p>Order Summary :</p>
    <ul>
        {% for item in cart_items %}
        <li>{{ item.product.name }} x {{ item.quantity }}</li>
        {% endfor %}
    </ul>
    <p>Total Amount: &#8377<span id="total_item_amount">{{total_amount}}</span></p>

    <button id="rzp-button1">Pay with Razorpay</button>
</div>
<div id="checkout-data" data-email="{{ email }}" data-fullname="{{ full_name }}">
</div> -->